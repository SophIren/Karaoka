# Karaoke
###### Автор: Марк Шкут
###### Группа: ФТ-203
___
### Описание
Караоке. Петь и услышать себя 0_0
___
### Требования
- Python>=3.x.x
- vlc
- portaudio - при установке pyaudio через pip на linux могут быть проблемы (см. доку portaudio) 
- requirements.txt
___
### Как пользоваться
1. Установить модули из `requirements.txt`
2. Запустить `main.py`
3. Выбрать песню
4. Жать PLAY
5. Петь
6. Слушать себя в recordings (по умолчанию)
___
### Состав проекта
- `GUI` Фон, картинки и тд
- `scripts`
  - `controllers.py` контроллеры текущего состояния
  - `drawers.py` Рисователи текущего состояния
  - `driver.py` Драйвер, отдает команды контроллерам, контроллеры - рисователям и рекордеру
  - `lt_parser.py` Парсер lt-файлов размеченных слов песен
  - `voice_recording.py` Рекордер-склеиватель песни и звука с микро
- `tests`
  - `*_tests.py` Тесты на *
- `utils`
  - `playing.py` Проигрыватель видео на pygame + ffmpeg_player (для удобной ручной разметки)
  - `lyrics_recording.py` Скрипт для ручной разметки слов песен
___
### Добавление своих песен
1. По умолчанию медиа файлы (видео-файлы тоже) хранятся в songs/media, а слова в songs/lyrics
2. Добавить медиа
3. Разметить песню с помощью utils/lyrics_recording.py (или привести слова в формат .lt)
4. Перезапустить main или Нажать REFRESH
5. Профит
___
### Накладывание микрофона на песню (voice_recording.py)
1. Запись микро с помощью pyaudio в колбек-функции
2. Чтение файла песни через pydub в raw
3. Приведение громкости потоков к средней, обрезание длины до наименьшей и наложение (все через pydub)
4. Сохранение в новом неповторяющемся файле с очень удобным индексом ^_^